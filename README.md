# Document AI Agent

ะะพะบะฐะปัะฝัะน AI ะฐะณะตะฝั ะฝะฐ ะฑะฐะทะต Ollama ะดะปั ัะฐะฑะพัั ั ะฝะพัะผะฐัะธะฒะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะตะน ะฟะพ ะทะฐะบัะฟะบะฐะผ. ะกะธััะตะผะฐ ะพะฑะตัะฟะตัะธะฒะฐะตั ะทะฐะณััะทะบั ะดะพะบัะผะตะฝัะพะฒ ะฒ ะฑะฐะทั ะทะฝะฐะฝะธะน, ะฟะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐะผ ะธ ะฟัะพะฒะตัะบั ัะพะพัะฒะตัััะฒะธั ะฝะพะฒัั ะดะพะบัะผะตะฝัะพะฒ ะฝะพัะผะฐัะธะฒะฝัะผ ััะตะฑะพะฒะฐะฝะธัะผ.

## ะะพะทะผะพะถะฝะพััะธ

- ๐ **ะะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ**: ะะพะดะดะตัะถะบะฐ txt, md ะธ docx ัะฐะนะปะพะฒ ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะธะฝะดะตะบัะฐัะธะตะน
- ๐ฆ **ะะฐะบะตัะฝะฐั ะทะฐะณััะทะบะฐ**: ะะฐะณััะทะบะฐ ะผะฝะพะถะตััะฒะฐ ะดะพะบัะผะตะฝัะพะฒ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ั ะฟัะพะณัะตัั-ะฑะฐัะฐะผะธ
- ๐ท๏ธ **ะะฐัะตะณะพัะธะทะฐัะธั ะดะพะบัะผะตะฝัะพะฒ**: ะกะธััะตะผะฐ ัะตะณะพะฒ ะธ ะบะฐัะตะณะพัะธะน (reference/normative, target, general)
- ๐ **ะฃะผะฝัะน ะฟะพะธัะบ**: ะะตะบัะพัะฝัะน ะฟะพะธัะบ ะฟะพ ัะพะดะตัะถะธะผะพะผั ะดะพะบัะผะตะฝัะพะฒ ั ัะธะปัััะฐัะธะตะน ะฟะพ ะบะฐัะตะณะพัะธัะผ
- ๐ฌ **ะะฝัะตัะฐะบัะธะฒะฝัะต ัะตััะธะธ**: ะะพะฝัะตะบััะฝัะต ะดะธะฐะปะพะณะธ ั ัะพััะฐะฝะตะฝะธะตะผ ะธััะพัะธะธ
- โ **ะัะพะฒะตัะบะฐ ัะพะพัะฒะตัััะฒะธั**: ะฆะตะปะตะฒะฐั ะฟัะพะฒะตัะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะฟัะพัะธะฒ ััะฐะปะพะฝะฝัั ััะตะฑะพะฒะฐะฝะธะน
- ๐ฏ **ะะฝัะตัะฐะบัะธะฒะฝัะน ะฒัะฑะพั**: ะัะฑะพั ะบะพะฝะบัะตัะฝัั ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ ะดะปั ะฟัะพะฒะตัะบะธ
- ๐ **ะะพะบะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ**: ะัะต ะดะฐะฝะฝัะต ะพะฑัะฐะฑะฐััะฒะฐัััั ะปะพะบะฐะปัะฝะพ ัะตัะตะท Ollama
- ๐ณ **Docker deployment**: ะัะพััะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต ัะตัะตะท docker-compose

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   CLI Interface โโโโโโ  Query Processor โโโโโโ  Ollama Client  โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                        โ                        โ
         โ              โโโโโโโโโโโโโโโโโโโ               โ
         โโโโโโโโโโโโโโโโ Session Manager โ               โ
                        โโโโโโโโโโโโโโโโโโโ               โ
         โ                        โ                        โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โDocument Manager โโโโโโ    ChromaDB      โ    โ  Ollama Service โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ะัััััะน ััะฐัั

### ะกะฟะพัะพะฑ 1: Docker Compose (ะะตะบะพะผะตะฝะดัะตะผัะน)

1. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:

```bash
git clone <repository-url>
cd document-ai-agent
```

2. ะะฐะฟัััะธัะต ัะธััะตะผั:

```bash
docker-compose up -d
```

3. ะะพะถะดะธัะตัั ะทะฐะณััะทะบะธ ะผะพะดะตะปะตะน:

```bash
docker-compose logs model-init
```

4. ะัะพะฒะตัััะต ััะฐััั:

```bash
docker-compose exec ai-agent poetry run python -m ai_agent.main status
```

5. ะะฐัะฝะธัะต ัะฐะฑะพัั:

```bash
docker-compose exec ai-agent poetry run python -m ai_agent.main query
```

### ะกะฟะพัะพะฑ 2: ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ

#### ะขัะตะฑะพะฒะฐะฝะธั

- Python 3.8+
- Poetry
- Ollama (ัััะฐะฝะพะฒะปะตะฝ ะธ ะทะฐะฟััะตะฝ)

#### ะฃััะฐะฝะพะฒะบะฐ

1. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:

```bash
poetry install
```

2. ะฃััะฐะฝะพะฒะธัะต ะธ ะทะฐะฟัััะธัะต Ollama:

```bash
# ะฃััะฐะฝะพะฒะบะฐ Ollama (Linux/macOS)
curl -fsSL https://ollama.ai/install.sh | sh

# ะะฐะฟััะบ ัะตัะฒะธัะฐ
ollama serve

# ะะฐะณััะทะบะฐ ะฝะตะพะฑัะพะดะธะผัั ะผะพะดะตะปะตะน
ollama pull llama3.1
ollama pull nomic-embed-text
```

3. ะะฐัััะพะนัะต ะพะบััะถะตะฝะธะต:

```bash
cp .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ
```

4. ะะฐะฟัััะธัะต ะฐะณะตะฝัะฐ:

```bash
poetry run docai status
```

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะพะผะฐะฝะดั CLI

#### ะะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ

```bash
# ะะฐะณััะทะธัั ะพะดะธะฝ ะดะพะบัะผะตะฝั
docai upload document.txt

# ะะฐะณััะทะธัั ั ะบะฐัะตะณะพัะธะตะน ะธ ัะตะณะฐะผะธ
docai upload document.md --title "ะะพัะผะฐัะธะฒั ะฟะพ ะทะฐะบัะฟะบะฐะผ" --category reference --tags "ะฝะพัะผะฐัะธะฒั,ััะตะฑะพะฒะฐะฝะธั"

# ะะฐะณััะทะธัั ััะฐะปะพะฝะฝัะน ะดะพะบัะผะตะฝั (ัะฟัะพัะตะฝะฝะฐั ะบะพะผะฐะฝะดะฐ)
docai upload-reference normative-doc.txt --tags "ะทะฐะบัะฟะบะธ,ััะตะฑะพะฒะฐะฝะธั"

# ะะฐะบะตัะฝะฐั ะทะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะธะท ะฟะฐะฟะบะธ
docai batch-upload /path/to/documents

# ะะฐะบะตัะฝะฐั ะทะฐะณััะทะบะฐ ั ะบะฐัะตะณะพัะธะตะน ะธ ัะตะณะฐะผะธ
docai batch-upload /path/to/documents --category reference --tags "ะฝะพัะผะฐัะธะฒั,ะทะฐะบัะฟะบะธ"

# ะะฐะบะตัะฝะฐั ะทะฐะณััะทะบะฐ ั ัะตะบัััะธะฒะฝัะผ ะฟะพะธัะบะพะผ
docai batch-upload /path/to/documents --recursive

# ะะฐะบะตัะฝะฐั ะทะฐะณััะทะบะฐ ั ัะธะปัััะฐัะธะตะน ะฟะพ ัะธะฟะฐะผ ัะฐะนะปะพะฒ
docai batch-upload /path/to/documents --pattern "*.txt,*.md,*.docx"

# ะัะตะดะฒะฐัะธัะตะปัะฝัะน ะฟัะพัะผะพัั ะฑะตะท ะทะฐะณััะทะบะธ
docai batch-upload /path/to/documents --dry-run

# ะะฐะบะตัะฝะฐั ะทะฐะณััะทะบะฐ ั ะพะฑัะธะผะธ ะผะตัะฐะดะฐะฝะฝัะผะธ
docai batch-upload /path/to/documents --metadata source=ministry --category reference

# ะัะพะดะพะปะถะธัั ะทะฐะณััะทะบั ะฟัะธ ะพัะธะฑะบะฐั ะฒ ะพัะดะตะปัะฝัั ัะฐะนะปะฐั
docai batch-upload /path/to/documents --skip-errors
```

#### ะะฐะฑะพัะฐ ั ัะตััะธัะผะธ

```bash
# ะะฝัะตัะฐะบัะธะฒะฝัะน ัะตะถะธะผ (ัะพะทะดะฐะตั ะฝะพะฒัั ัะตััะธั)
docai query

# ะัะฟะพะปัะทะพะฒะฐัั ัััะตััะฒััััั ัะตััะธั
docai query --session-id SESSION_ID

# ะกะฟะธัะพะบ ัะตััะธะน
docai session --list

# ะััะพัะธั ัะตััะธะธ
docai session --history SESSION_ID
```

#### ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐะผะธ

```bash
# ะกะฟะธัะพะบ ะฒัะตั ะดะพะบัะผะตะฝัะพะฒ
docai docs --list

# ะกะฟะธัะพะบ ะดะพะบัะผะตะฝัะพะฒ ะฟะพ ะบะฐัะตะณะพัะธะธ
docai docs --list --category reference
docai docs --list --category target

# ะกะฟะธัะพะบ ะดะพะบัะผะตะฝัะพะฒ ะฟะพ ัะตะณะฐะผ
docai docs --list --tags "ะฝะพัะผะฐัะธะฒั,ััะตะฑะพะฒะฐะฝะธั"

# ะะฝัะพัะผะฐัะธั ะพ ะดะพะบัะผะตะฝัะต
docai docs --info DOC_ID

# ะกัะฐัะธััะธะบะฐ ะบะพะปะปะตะบัะธะธ
docai docs --stats

# ะฃะฟัะฐะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธัะผะธ ะธ ัะตะณะฐะผะธ ะดะพะบัะผะตะฝัะพะฒ
docai manage-doc DOC_ID --category reference
docai manage-doc DOC_ID --tags "ะฝะพะฒัะต,ัะตะณะธ"
docai manage-doc DOC_ID --add-tag "ะดะพะฟะพะปะฝะธัะตะปัะฝัะน-ัะตะณ"
docai manage-doc DOC_ID --remove-tag "ััะฐััะน-ัะตะณ"
```

#### ะัะพะฒะตัะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะฝะฐ ัะพะพัะฒะตัััะฒะธะต

```bash
# ะัะพะฒะตัะธัั ะดะพะบัะผะตะฝั ะฟัะพัะธะฒ ะฒัะตั ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ
docai check-document contract.txt

# ะัะพะฒะตัะธัั ั ะธะฝัะตัะฐะบัะธะฒะฝัะผ ะฒัะฑะพัะพะผ ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ
docai check-document contract.txt --interactive

# ะัะพะฒะตัะธัั ะฟัะพัะธะฒ ะบะพะฝะบัะตัะฝัั ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ
docai check-document contract.txt --reference-docs "doc-id-1,doc-id-2"

# ะัะพะฒะตัะธัั ะฒ ัะฐะผะบะฐั ัััะตััะฒัััะตะน ัะตััะธะธ
docai check-document contract.txt --session-id SESSION_ID
```

#### ะกัะฐััั ัะธััะตะผั

```bash
# ะัะพะฒะตัะธัั ััะฐััั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ
docai status
```

### ะะฝัะตัะฐะบัะธะฒะฝัะน ัะตะถะธะผ

ะ ะธะฝัะตัะฐะบัะธะฒะฝะพะผ ัะตะถะธะผะต ะดะพัััะฟะฝั ัะฟะตัะธะฐะปัะฝัะต ะบะพะผะฐะฝะดั:

- `/help` - ะฟะพะบะฐะทะฐัั ัะฟัะฐะฒะบั
- `/history` - ะฟะพะบะฐะทะฐัั ะธััะพัะธั ัะตััะธะธ
- `/check` - ัะตะถะธะผ ะฟัะพะฒะตัะบะธ ะดะพะบัะผะตะฝัะพะฒ ะฝะฐ ัะพะพัะฒะตัััะฒะธะต
- `/exit` - ะฒัะนัะธ ะธะท ัะตะถะธะผะฐ

#### ะัะธะผะตัั ะฒะพะฟัะพัะพะฒ:

- "ะะฐะบะธะต ััะตะฑะพะฒะฐะฝะธั ะบ ะดะพะบัะผะตะฝัะฐัะธะธ ะฟะพ ะทะฐะบัะฟะบะฐะผ?"
- "ะงัะพ ะฝัะถะฝะพ ัะบะฐะทะฐัั ะฒ ะดะพะณะพะฒะพัะต ั ะฟะพััะฐะฒัะธะบะพะผ?"
- "ะะฐะบะธะต ะดะพะบัะผะตะฝัั ะฝัะถะฝั ะดะปั ััะฐััะธั ะฒ ัะตะฝะดะตัะต?"

#### ะัะพะฒะตัะบะฐ ะดะพะบัะผะตะฝัะพะฒ:

ะ ัะตะถะธะผะต `/check` ะผะพะถะฝะพ:

- ะฃะบะฐะทะฐัั ะฟััั ะบ ัะฐะนะปั ะดะปั ะฟัะพะฒะตัะบะธ
- ะััะฐะฒะธัั ัะตะบัั ะดะพะบัะผะตะฝัะฐ ะฝะฐะฟััะผัั
- ะะพะปััะธัั ะฐะฝะฐะปะธะท ัะพะพัะฒะตัััะฒะธั ะฝะพัะผะฐัะธะฒะฝัะผ ััะตะฑะพะฒะฐะฝะธัะผ

## ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

#### ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ

| ะะตัะตะผะตะฝะฝะฐั              | ะะฝะฐัะตะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั    | ะะฟะธัะฐะฝะธะต            |
| ----------------------- | ------------------------ | ------------------- |
| `OLLAMA_HOST`           | `http://localhost:11434` | URL Ollama ัะตัะฒะธัะฐ  |
| `OLLAMA_DEFAULT_MODEL`  | `llama3.1`               | ะะพะดะตะปั ะฟะพ ัะผะพะปัะฐะฝะธั |
| `DATA_PATH`             | `data`                   | ะััั ะบ ะดะฐะฝะฝัะผ       |
| `CHROMA_PATH`           | `data/chroma_db`         | ะััั ะบ ChromaDB     |
| `SESSION_TIMEOUT_HOURS` | `24`                     | ะัะตะผั ะถะธะทะฝะธ ัะตััะธะน  |

#### ะะฐัััะพะนะบะธ ะปะพะณะธัะพะฒะฐะฝะธั

| ะะตัะตะผะตะฝะฝะฐั            | ะะฝะฐัะตะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต                                                |
| --------------------- | --------------------- | ------------------------------------------------------- |
| `LOG_LEVEL`           | `INFO`                | ะฃัะพะฒะตะฝั ะปะพะณะธัะพะฒะฐะฝะธั (DEBUG/INFO/WARNING/ERROR/CRITICAL) |
| `LOG_DIR`             | `logs`                | ะะธัะตะบัะพัะธั ะดะปั ัะฐะนะปะพะฒ ะปะพะณะพะฒ                             |
| `ENABLE_FILE_LOGGING` | `true`                | ะะบะปััะธัั ะทะฐะฟะธัั ะปะพะณะพะฒ ะฒ ัะฐะนะปั                           |
| `ENABLE_JSON_LOGGING` | `false`               | ะัะฟะพะปัะทะพะฒะฐัั JSON ัะพัะผะฐั ะดะปั ะปะพะณะพะฒ                      |
| `MAX_LOG_SIZE_MB`     | `10`                  | ะะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะนะปะฐ ะปะพะณะฐ (ะะ)                     |
| `LOG_BACKUP_COUNT`    | `5`                   | ะะพะปะธัะตััะฒะพ ะฐััะธะฒะฝัั ัะฐะนะปะพะฒ ะปะพะณะพะฒ                        |

#### ะะฐัััะพะนะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

| ะะตัะตะผะตะฝะฝะฐั                   | ะะฝะฐัะตะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต                               |
| ---------------------------- | --------------------- | -------------------------------------- |
| `SLOW_OPERATION_THRESHOLD`   | `5.0`                 | ะะพัะพะณ ะผะตะดะปะตะฝะฝัั ะพะฟะตัะฐัะธะน (ัะตะบัะฝะดั)     |
| `MEMORY_USAGE_THRESHOLD`     | `500`                 | ะะพัะพะณ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฟะฐะผััะธ (ะะ)        |
| `ENABLE_PERFORMANCE_MONITOR` | `true`                | ะะบะปััะธัั ะผะพะฝะธัะพัะธะฝะณ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ |

### ะะฐัััะพะนะบะฐ Docker

ะะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั GPU ะฒ Docker (NVIDIA):

1. ะฃััะฐะฝะพะฒะธัะต nvidia-docker2
2. ะะฐัะบะพะผะผะตะฝัะธััะนัะต ัะตะบัะธั deploy ะฒ docker-compose.yml ะดะปั ัะตัะฒะธัะฐ ollama

## ะะฐะทัะฐะฑะพัะบะฐ

### ะะฐะฟััะบ ัะตััะพะฒ

```bash
# ะัะต ัะตััั
poetry run pytest

# ะขะพะปัะบะพ unit ัะตััั
poetry run pytest tests/test_models.py

# ะขะพะปัะบะพ integration ัะตััั
poetry run pytest tests/test_integration.py

# ะก ะฟะพะบัััะธะตะผ
poetry run pytest --cov=ai_agent
```

### ะะธะฝัะธะฝะณ ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธะต

```bash
# ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะดะฐ
poetry run black ai_agent tests

# ะัะพะฒะตัะบะฐ ะธะผะฟะพััะพะฒ
poetry run isort ai_agent tests

# ะกัะฐัะธัะตัะบะธะน ะฐะฝะฐะปะธะท
poetry run flake8 ai_agent tests

# ะัะพะฒะตัะบะฐ ัะธะฟะพะฒ
poetry run mypy ai_agent
```

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
document-ai-agent/
โโโ ai_agent/                 # ะัะฝะพะฒะฝะพะน ะบะพะด ะฟัะธะปะพะถะตะฝะธั
โ   โโโ cli/                  # CLI ะธะฝัะตััะตะนั
โ   โโโ core/                 # ะัะฝะพะฒะฝะฐั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ models/              # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โโโ utils/               # ะฃัะธะปะธัั
โ   โโโ main.py              # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ tests/                   # ะขะตััั
โโโ data/                    # ะะฐะฝะฝัะต (ะดะพะบัะผะตะฝัั, ChromaDB)
โโโ docker-compose.yml       # Docker ะบะพะฝัะธะณััะฐัะธั
โโโ Dockerfile              # Docker ะพะฑัะฐะท
โโโ pyproject.toml          # ะะพะฝัะธะณััะฐัะธั Poetry
โโโ README.md               # ะะพะบัะผะตะฝัะฐัะธั
```

## ะะพะณะธัะพะฒะฐะฝะธะต ะธ ะผะพะฝะธัะพัะธะฝะณ

### ะะพะฝัะธะณััะฐัะธั ะปะพะณะธัะพะฒะฐะฝะธั

ะกะธััะตะผะฐ ะฟะพะดะดะตัะถะธะฒะฐะตั ะณะธะฑะบัั ะฝะฐัััะพะนะบั ะปะพะณะธัะพะฒะฐะฝะธั ัะตัะตะท ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:

```bash
# ะะฐะทะพะฒะฐั ะบะพะฝัะธะณััะฐัะธั ะดะปั ัะฐะทัะฐะฑะพัะบะธ
export LOG_LEVEL=DEBUG
export ENABLE_FILE_LOGGING=true
export LOG_DIR=logs

# ะัะพะดะฐะบัะฝ ะบะพะฝัะธะณััะฐัะธั
export LOG_LEVEL=INFO
export ENABLE_JSON_LOGGING=true
export LOG_DIR=/var/log/ai-agent
export MAX_LOG_SIZE_MB=50
export LOG_BACKUP_COUNT=10
```

### ะกัััะบัััะฐ ะปะพะณะพะฒ

ะกะธััะตะผะฐ ัะพะทะดะฐะตั ัะปะตะดัััะธะต ัะฐะนะปั ะปะพะณะพะฒ:

- `ai_agent.log` - ะพัะฝะพะฒะฝะพะน ะปะพะณ ะฒัะตั ะพะฟะตัะฐัะธะน
- `errors.log` - ัะพะปัะบะพ ะพัะธะฑะบะธ ะธ ะบัะธัะธัะตัะบะธะต ัะพะฑััะธั
- `performance.log` - ะผะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ (ะตัะปะธ ะฒะบะปััะตะฝ ะผะพะฝะธัะพัะธะฝะณ)

### ะคะพัะผะฐัั ะปะพะณะธัะพะฒะฐะฝะธั

#### ะะพะฝัะพะปัะฝัะน ะฒัะฒะพะด (ัะฒะตัะฝะพะน)

```
2024-01-15 10:30:45 - ai_agent.core.document_manager - INFO - Document uploaded successfully: abc123 [doc=abc123, time=2.34s, op=upload_document]
```

#### JSON ัะพัะผะฐั (ะดะปั ะฟัะพะดะฐะบัะฝ)

```json
{
  "timestamp": "2024-01-15T10:30:45.123456",
  "level": "INFO",
  "logger": "ai_agent.core.document_manager",
  "message": "Document uploaded successfully: abc123",
  "document_id": "abc123",
  "processing_time": 2.34,
  "operation": "upload_document"
}
```

### ะะพะฝะธัะพัะธะฝะณ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพััะปะตะถะธะฒะฐะตั:

- **ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั ะพะฟะตัะฐัะธะน** - ั ะฟัะตะดัะฟัะตะถะดะตะฝะธัะผะธ ะพ ะผะตะดะปะตะฝะฝัั ะพะฟะตัะฐัะธัั
- **ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะฐะผััะธ** - ั ะพััะปะตะถะธะฒะฐะฝะธะตะผ ััะตัะตะบ ะฟะฐะผััะธ
- **ะกะธััะตะผะฝัะต ัะตััััั** - CPU, ะฟะฐะผััั, ะดะธัะบะพะฒะพะต ะฟัะพัััะฐะฝััะฒะพ
- **ะกัะฐัะธััะธะบั ะพะฟะตัะฐัะธะน** - ะบะพะปะธัะตััะฒะพ, ััะฟะตัะฝะพััั, ััะตะดะฝะธะต ะฒัะตะผะตะฝะฐ

#### ะัะพัะผะพัั ะผะตััะธะบ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

```bash
# ะกัะฐััั ัะธััะตะผั ั ะผะตััะธะบะฐะผะธ
docai status

# ะะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั ะพ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
docai performance --stats

# ะะตะดะปะตะฝะฝัะต ะพะฟะตัะฐัะธะธ
docai performance --slow-operations

# ะกะฑัะพั ััะฐัะธััะธะบะธ
docai performance --reset
```

### ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

ะกะธััะตะผะฐ ะธัะฟะพะปัะทัะตั ะผะฝะพะณะพััะพะฒะฝะตะฒัั ะพะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ:

#### ะะฐัะตะณะพัะธะธ ะพัะธะฑะพะบ

- **NETWORK** - ัะตัะตะฒัะต ะพัะธะฑะบะธ ะธ ะฟัะพะฑะปะตะผั ะฟะพะดะบะปััะตะฝะธั
- **VALIDATION** - ะพัะธะฑะบะธ ะฒะฐะปะธะดะฐัะธะธ ะฒัะพะดะฝัั ะดะฐะฝะฝัั
- **PROCESSING** - ะพัะธะฑะบะธ ะพะฑัะฐะฑะพัะบะธ ะดะพะบัะผะตะฝัะพะฒ
- **RESOURCE** - ะฟัะพะฑะปะตะผั ั ัะตััััะฐะผะธ (ะฟะฐะผััั, ะดะธัะบ)
- **CONFIGURATION** - ะพัะธะฑะบะธ ะบะพะฝัะธะณััะฐัะธะธ
- **EXTERNAL_SERVICE** - ะฟัะพะฑะปะตะผั ั ะฒะฝะตัะฝะธะผะธ ัะตัะฒะธัะฐะผะธ (Ollama, ChromaDB)

#### ะฃัะพะฒะฝะธ ัะตััะตะทะฝะพััะธ

- **LOW** - ะฝะตะทะฝะฐัะธัะตะปัะฝัะต ะฟัะพะฑะปะตะผั
- **MEDIUM** - ะฟัะพะฑะปะตะผั, ััะตะฑัััะธะต ะฒะฝะธะผะฐะฝะธั
- **HIGH** - ัะตััะตะทะฝัะต ะพัะธะฑะบะธ, ะฒะปะธัััะธะต ะฝะฐ ััะฝะบัะธะพะฝะฐะปัะฝะพััั
- **CRITICAL** - ะบัะธัะธัะตัะบะธะต ะพัะธะฑะบะธ, ััะตะฑัััะธะต ะฝะตะผะตะดะปะตะฝะฝะพะณะพ ะฒะผะตัะฐัะตะปัััะฒะฐ

#### Retry ะผะตัะฐะฝะธะทะผั

ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะฒัะพััะตั ะฝะตัะดะฐัะฝัะต ะพะฟะตัะฐัะธะธ:

- **ะญะบัะฟะพะฝะตะฝัะธะฐะปัะฝะฐั ะทะฐะดะตัะถะบะฐ** ะดะปั ัะตัะตะฒัั ะทะฐะฟัะพัะพะฒ
- **Circuit breaker** ะดะปั ะทะฐัะธัั ะพั ะบะฐัะบะฐะดะฝัั ัะฑะพะตะฒ
- **ะะฐัััะฐะธะฒะฐะตะผัะต ัััะฐัะตะณะธะธ** ะดะปั ัะฐะทะฝัั ัะธะฟะพะฒ ะพะฟะตัะฐัะธะน

### ะัะธะผะตัั ะบะพะฝัะธะณััะฐัะธะธ ะปะพะณะธัะพะฒะฐะฝะธั

#### ะะฐะทัะฐะฑะพัะบะฐ

```bash
# .env ะดะปั ัะฐะทัะฐะฑะพัะบะธ
LOG_LEVEL=DEBUG
ENABLE_FILE_LOGGING=true
ENABLE_JSON_LOGGING=false
LOG_DIR=logs/dev
MAX_LOG_SIZE_MB=5
LOG_BACKUP_COUNT=3
SLOW_OPERATION_THRESHOLD=2.0
```

#### ะัะพะดะฐะบัะฝ

```bash
# .env ะดะปั ะฟัะพะดะฐะบัะฝ
LOG_LEVEL=INFO
ENABLE_FILE_LOGGING=true
ENABLE_JSON_LOGGING=true
LOG_DIR=/var/log/ai-agent
MAX_LOG_SIZE_MB=50
LOG_BACKUP_COUNT=30
SLOW_OPERATION_THRESHOLD=10.0
ENABLE_PERFORMANCE_MONITOR=true
```

#### ะัะปะฐะดะบะฐ

```bash
# .env ะดะปั ะพัะปะฐะดะบะธ
LOG_LEVEL=DEBUG
ENABLE_FILE_LOGGING=true
ENABLE_JSON_LOGGING=false
LOG_DIR=logs/debug
MAX_LOG_SIZE_MB=1
LOG_BACKUP_COUNT=2
SLOW_OPERATION_THRESHOLD=1.0
```

### ะะฝัะตะณัะฐัะธั ั ัะธััะตะผะฐะผะธ ะผะพะฝะธัะพัะธะฝะณะฐ

ะกะธััะตะผะฐ ะฟะพะดะดะตัะถะธะฒะฐะตั ะธะฝัะตะณัะฐัะธั ั ะฒะฝะตัะฝะธะผะธ ัะธััะตะผะฐะผะธ ะผะพะฝะธัะพัะธะฝะณะฐ ัะตัะตะท:

- **JSON ะปะพะณะธ** ะดะปั Elasticsearch/Logstash
- **Structured logging** ะดะปั Prometheus/Grafana
- **Webhook ัะฒะตะดะพะผะปะตะฝะธั** ะดะปั ะบัะธัะธัะตัะบะธั ะพัะธะฑะพะบ
- **ะะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ** ะดะปั ัะธััะตะผ APM

## ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### Ollama ะฝะต ะฟะพะดะบะปััะฐะตััั

```bash
# ะัะพะฒะตัััะต ััะฐััั ัะปัะถะฑั
ollama list

# ะะตัะตะทะฐะฟัััะธัะต Ollama
ollama serve

# ะัะพะฒะตัััะต ะฟะพัั
curl http://localhost:11434/api/tags
```

### ChromaDB ะพัะธะฑะบะธ

```bash
# ะัะธััะธัะต ะฑะฐะทั ะดะฐะฝะฝัั
rm -rf data/chroma_db

# ะะตัะตะทะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต
docai status
```

### Docker ะฟัะพะฑะปะตะผั

```bash
# ะะตัะตัะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ
docker-compose build --no-cache

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f

# ะัะธััะบะฐ volumes
docker-compose down -v
```

## ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะฐะณััะทะบะฐ ะฝะพัะผะฐัะธะฒะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะธ

```bash
# ะะฐะณััะทะธัะต ะพัะดะตะปัะฝัะต ะดะพะบัะผะตะฝัั
docai upload "ะะฐะบะพะฝ ะพ ะบะพะฝััะฐะบัะฝะพะน ัะธััะตะผะต.txt"
docai upload "ะะตะณะปะฐะผะตะฝั ะทะฐะบัะฟะพะบ.md" --metadata category=regulation

# ะะปะธ ะทะฐะณััะทะธัะต ะฒัั ะฟะฐะฟะบั ั ะดะพะบัะผะตะฝัะฐะผะธ ััะฐะทั
docai batch-upload ./normative-docs --recursive --metadata category=regulation

# ะัะตะดะฒะฐัะธัะตะปัะฝัะน ะฟัะพัะผะพัั ะฟะตัะตะด ะทะฐะณััะทะบะพะน
docai batch-upload ./normative-docs --dry-run

# ะัะพะฒะตัััะต ะทะฐะณััะทะบั
docai docs --list
```

### ะัะพะฒะตัะบะฐ ะดะพะณะพะฒะพัะฐ

```bash
# ะะฐะฟัััะธัะต ะธะฝัะตัะฐะบัะธะฒะฝัะน ัะตะถะธะผ
docai query

# ะ ะธะฝัะตัะฐะบัะธะฒะฝะพะผ ัะตะถะธะผะต:
> /check
> /path/to/contract.txt

# ะะพะปััะธัะต ะฐะฝะฐะปะธะท ัะพะพัะฒะตัััะฒะธั
```

### ะะพะฝััะปััะฐัะธั ะฟะพ ััะตะฑะพะฒะฐะฝะธัะผ

```bash
# ะะฐะฟัััะธัะต ะธะฝัะตัะฐะบัะธะฒะฝัะน ัะตะถะธะผ
docai query

# ะะฐะดะฐะนัะต ะฒะพะฟัะพัั:
> ะะฐะบะธะต ะดะพะบัะผะตะฝัั ะฝัะถะฝั ะพั ะฟะพััะฐะฒัะธะบะฐ?
> ะะฐะบะธะต ััะพะบะธ ะฟะพะดะฐัะธ ะทะฐัะฒะพะบ?
> ะงัะพ ะฟัะพะฒะตัััั ะฒ ะดะพะณะพะฒะพัะต ะฟะพััะฐะฒะบะธ?
```

### ะัะพะฒะตัะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะฝะฐ ัะพะพัะฒะตัััะฒะธะต

#### ะะพะดะณะพัะพะฒะบะฐ ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ

```bash
# ะะฐะณััะทะธัะต ััะฐะปะพะฝะฝัะต/ะฝะพัะผะฐัะธะฒะฝัะต ะดะพะบัะผะตะฝัั
docai upload-reference "ะะฐะบะพะฝ ะพ ะบะพะฝััะฐะบัะฝะพะน ัะธััะตะผะต.txt" --tags "ะทะฐะบะพะฝ,ะพัะฝะพะฒั"
docai upload-reference "ะะตะณะปะฐะผะตะฝั ะทะฐะบัะฟะพะบ.md" --tags "ะฟัะพัะตะดััั,ััะตะฑะพะฒะฐะฝะธั"
docai upload-reference "ะกัะฐะฝะดะฐััั ะบะฐัะตััะฒะฐ.docx" --tags "ะบะฐัะตััะฒะพ,ััะฐะฝะดะฐััั"

# ะะปะธ ะทะฐะณััะทะธัะต ะพะฑััะฝัะผ ัะฟะพัะพะฑะพะผ ั ัะบะฐะทะฐะฝะธะตะผ ะบะฐัะตะณะพัะธะธ
docai upload normative-doc.txt --category reference --tags "ะฝะพัะผะฐัะธะฒั"

# ะัะพะฒะตัััะต ะทะฐะณััะถะตะฝะฝัะต ััะฐะปะพะฝะฝัะต ะดะพะบัะผะตะฝัั
docai docs --list --category reference
```

#### ะัะพะฒะตัะบะฐ ัะตะปะตะฒัั ะดะพะบัะผะตะฝัะพะฒ

```bash
# ะัะพััะฐั ะฟัะพะฒะตัะบะฐ ะฟัะพัะธะฒ ะฒัะตั ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ
docai check-document contract-to-check.txt

# ะะฝัะตัะฐะบัะธะฒะฝัะน ะฒัะฑะพั ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ
docai check-document contract-to-check.txt --interactive
# ะกะธััะตะผะฐ ะฟะพะบะฐะถะตั ัะฟะธัะพะบ ะดะพัััะฟะฝัั ััะฐะปะพะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ
# ะัะฑะตัะธัะต ะฝัะถะฝัะต ะฝะพะผะตัะฐ: 1,3,5 ะธะปะธ 'all' ะดะปั ะฒัะตั

# ะัะพะฒะตัะบะฐ ะฟัะพัะธะฒ ะบะพะฝะบัะตัะฝัั ะดะพะบัะผะตะฝัะพะฒ (ะตัะปะธ ะทะฝะฐะตัะต ID)
docai check-document contract-to-check.txt --reference-docs "abc123,def456"
```

#### ะัะธะผะตั ะธะฝัะตัะฐะบัะธะฒะฝะพะน ะฟัะพะฒะตัะบะธ

```bash
$ docai check-document contract.txt --interactive

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะฝัะตัะฐะบัะธะฒะฝัะน ะฒัะฑะพั                          โ
โ                                                                 โ
โ ะัะฑะตัะธัะต ะดะพะบัะผะตะฝัั, ะบะพัะพััะต ะฑัะดัั ะธัะฟะพะปัะทะพะฒะฐะฝั ะบะฐะบ ััะฐะปะพะฝ       โ
โ ะดะปั ะฟัะพะฒะตัะบะธ.                                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 ะะพัััะฟะฝัะต ััะฐะปะพะฝะฝัะต ะดะพะบัะผะตะฝัั                   โ
โโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโค
โ โ โ    ID    โ        ะะฐะทะฒะฐะฝะธะต         โ     ะขะตะณะธ     โ ะงะฐะฝะบะพะฒ โ
โโโโโผโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโค
โ 1 โ abc123...โ ะะฐะบะพะฝ ะพ ะบะพะฝััะฐะบัะฝะพะน...  โ ะทะฐะบะพะฝ,ะพัะฝะพะฒั โ   45   โ
โ 2 โ def456...โ ะะตะณะปะฐะผะตะฝั ะทะฐะบัะฟะพะบ       โ ะฟัะพัะตะดััั    โ   32   โ
โ 3 โ ghi789...โ ะกัะฐะฝะดะฐััั ะบะฐัะตััะฒะฐ      โ ะบะฐัะตััะฒะพ     โ   28   โ
โโโโโดโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโดโโโโโโโโโ

ะะฐัะธะฐะฝัั ะฒัะฑะพัะฐ:
โข ะะพะผะตัะฐ ะดะพะบัะผะตะฝัะพะฒ ัะตัะตะท ะทะฐะฟัััั (ะฝะฐะฟัะธะผะตั: 1,3,5)
โข 'all' - ะฒัะฑัะฐัั ะฒัะต ะดะพะบัะผะตะฝัั
โข 'cancel' - ะพัะผะตะฝะธัั ะฟัะพะฒะตัะบั

ะะฐั ะฒัะฑะพั: 1,2

โ ะัะฑัะฐะฝะพ ะดะพะบัะผะตะฝัะพะฒ: 2
  โข ะะฐะบะพะฝ ะพ ะบะพะฝััะฐะบัะฝะพะน ัะธััะตะผะต
  โข ะะตะณะปะฐะผะตะฝั ะทะฐะบัะฟะพะบ

๐ ะััะตั ะพ ัะพะพัะฒะตัััะฒะธะธ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

## ะะฝะฐะปะธะท ัะพะพัะฒะตัััะฒะธั ะดะพะบัะผะตะฝัะฐ

### โ ะกะพะพัะฒะตัััะฒัะตั ััะตะฑะพะฒะฐะฝะธัะผ:
- ะฃะบะฐะทะฐะฝั ะฒัะต ะพะฑัะทะฐัะตะปัะฝัะต ัะตะบะฒะธะทะธัั ัะพะณะปะฐัะฝะพ ัั. 34 ะคะ-44
- ะกะพะฑะปัะดะตะฝั ััะตะฑะพะฒะฐะฝะธั ะบ ะฟัะตะดะผะตัั ะดะพะณะพะฒะพัะฐ
- ะัะฐะฒะธะปัะฝะพ ัะบะฐะทะฐะฝั ััะพะบะธ ะธัะฟะพะปะฝะตะฝะธั

### โ๏ธ ะขัะตะฑัะตั ะฒะฝะธะผะฐะฝะธั:
- ะััััััะฒัะตั ัะบะฐะทะฐะฝะธะต ะฝะฐ ะพะฑะตัะฟะตัะตะฝะธะต ะธัะฟะพะปะฝะตะฝะธั ะดะพะณะพะฒะพัะฐ
- ะะต ัะบะฐะทะฐะฝั ัััะฐัะฝัะต ัะฐะฝะบัะธะธ ะทะฐ ะฝะฐัััะตะฝะธะต ััะพะบะพะฒ

### ๐ ะััะพัะฝะธะบะธ ััะตะฑะพะฒะฐะฝะธะน:
1. ะะฐะบะพะฝ ะพ ะบะพะฝััะฐะบัะฝะพะน ัะธััะตะผะต - ัั. 34, 96
2. ะะตะณะปะฐะผะตะฝั ะทะฐะบัะฟะพะบ - ะฟ. 4.2, 5.1

โน๏ธ ะฃะฒะตัะตะฝะฝะพััั: 85% | ะัะตะผั ะฐะฝะฐะปะธะทะฐ: 3.45ั | ะัะฟะพะปัะทะพะฒะฐะฝะพ ะดะพะบัะผะตะฝัะพะฒ: 2
```

## ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป LICENSE ะดะปั ะดะตัะฐะปะตะน.

## ะะพะดะดะตัะถะบะฐ

ะะปั ัะพะพะฑัะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั ะธ ะฟัะตะดะปะพะถะตะฝะธะน ะธัะฟะพะปัะทัะนัะต GitHub Issues.
